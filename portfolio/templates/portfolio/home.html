<!-- portfolio/templates/portfolio/home.html -->
{% extends "base.html" %} {% load static %} {% block title %}Home{% endblock %}
{% block content%}
<!-- Floating Panel Area -->
<div
  id="social-panel"
  class="fixed left-0 top-1/4 z-50 flex flex-col items-center space-y-2 bg-gray-300 p-2 rounded-lg transition-all duration-500 dark:bg-zinc-800"
>
  <!-- Toggle Button -->
  <button
    id="toggle-panel"
    class="text-xs text-white font-semibold mt-0 px-2 py-0.5 w-fit leading-tight rounded-md bg-zinc-700 hover:bg-zinc-800 transition duration-300 dark:bg-zinc-600 dark:hover:bg-zinc-700"
  >
    Quick<br />Contact
  </button>
  <!-- Initially hidden -->
  <div
    id="icon-area"
    class="flex flex-col items-center space-y-4 opacity-0 max-h-0 overflow-hidden transition-all duration-700"
  >
    <a
      href="https://www.linkedin.com/in/umut-sarper-uzun"
      target="_blank"
      class="dark:invert dark:brightness-125"
    >
      <img
        src="{% static 'icons/linkedin.svg' %}"
        alt="LinkedIn"
        class="w-6 h-6 max-w-[24px] max-h-[24px] object-contain hover:scale-110 transition-transform duration-300"
      />
    </a>
    <a
      href="https://www.github.com/umutsarperuzun"
      target="_blank"
      class="dark:invert dark:brightness-125"
    >
      <img
        src="{% static 'icons/github.svg' %}"
        alt="GitHub"
        class="w-6 h-6 max-w-[24px] max-h-[24px] object-contain hover:scale-110 transition-transform duration-300"
      />
    </a>
    <a
      href="https://www.instagram.com/srpruzn"
      target="_blank"
      class="dark:invert dark:brightness-125"
    >
      <img
        src="{% static 'icons/instagram.svg' %}"
        alt="Instagram"
        class="w-6 h-6 max-w-[24px] max-h-[24px] object-contain hover:scale-110 transition-transform duration-300"
      />
    </a>
    <a
      href="mailto:sarperuzun1@gmail.com?subject=Let's%20Connect&body=Hello%20Sarper%2C%0AI%20visited%20your%20portfolio%20and%20wanted%20to%20reach%20out."
      target="_blank"
      class="dark:invert dark:brightness-125"
    >
      <img
        src="{% static 'icons/gmail.svg' %}"
        alt="Email"
        class="w-6 h-6 max-w-[24px] max-h-[24px] object-contain hover:scale-110 transition-transform duration-300"
      />
    </a>
  </div>
</div>

<section
  id="home"
  class="relative min-h-screen flex items-center overflow-hidden"
>
  <!-- 1 sector hareketli arka plan -->
  <div
    class="absolute top-0 left-0 w-full h-full z-0 bg-gradient-to-r from-white via-gray-200 to-black bg-[length:200%] animate-slideBg dark:from-gray-900 dark:via-gray-800 dark:to-black"
  ></div>

  <!-- 2 sector Kayan görseller transparan arka planlı -->
  <div
    class="absolute top-[128px] left-0 w-full h-[calc(100vh-128px)] z-10 overflow-hidden bg-transparent"
  >
    <div
      class="fade-mask absolute top-0 left-0 w-full h-full z-10 pointer-events-none"
    ></div>

    <div class="relative w-full h-full">
      <div
        class="slider-track flex animate-marquee h-full px-10 py-16 items-stretch min-w-[200%]"
      >
        {% for img in slider_images %}
        <img
          src="{% static img %}"
          class="h-full w-auto object-cover opacity-20 grayscale contrast-75 dark:opacity-30 dark:grayscale-0 dark:contrast-100"
        />
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- 3 sector decode yazısı -->
  <div class="relative z-20 text-left px-6 md:px-16">
    <h1 class="text-5xl font-bold text-gray-900 dark:text-gray-100">
      <span id="decoding-title"></span>
    </h1>
  </div>
</section>
<section
  id="about"
  class="min-h-screen bg-gray-100 dark:bg-gray-900 py-20 scroll-mt-32"
>
  <h2 class="text-3xl font-bold text-center text-gray-900 dark:text-white">
    About Me
  </h2>

  <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-10 w-full px-16">
    <!-- Sol: Yazı -->
    <div data-aos="fade-right" class="text-center max-w-xl mx-auto">
      <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">
        Who am I?
      </h3>
      <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
        I'm a passionate and detail-oriented Junior Software Developer with a
        strong focus on building clean, scalable, and user-friendly web
        applications. With a background in Computer Science (MSc, Distinction),
        I have hands-on experience in both frontend and backend technologies
        including Django, React, Tailwind CSS, and RESTful APIs. I enjoy solving
        real-world problems through code, continuously learning new
        technologies, and working on projects that make a meaningful impact.
      </p>
    </div>

    <!-- Sağ: Yetenekler -->
    <div
      id="skills-section"
      data-aos="fade-left"
      class="grid grid-cols-1 md:grid-cols-3 gap-8"
    >
      <!-- Backend -->
      <div class="space-y-4">
        <h4 class="text-xl font-semibold text-gray-700 dark:text-white">
          Backend
        </h4>
        <!-- Python -->
        {% include "portfolio/components/skill_item.html" with icon="icons/python.svg" name="Python" percentage="90" color="blue" %}
        <!-- Flask -->
         {% include "portfolio/components/skill_item.html" with icon="icons/flask.svg" name="Flask" percentage="80" color="emerald" %}
        <!-- MySQL -->
        {% include "portfolio/components/skill_item.html" with icon="icons/mysql.svg" name="MySQL" percentage="80" color="emerald" %}
        <!-- Node.js -->
        {% include "portfolio/components/skill_item.html" with icon="icons/node.svg" name="Node.js (Express.js)" percentage="70" color="emerald" %}
        <!-- Django -->
        {% include "portfolio/components/skill_item.html" with icon="icons/django.svg" name="Django" percentage="70" color="emerald" %}
      </div>

      <!-- Frontend -->
      <div class="space-y-4">
        <h4 class="text-xl font-semibold text-gray-700 dark:text-white">Frontend</h4>
        <!-- JavaScript -->
        {% include "portfolio/components/skill_item.html" with icon="icons/javascript.svg" name="JavaScript" percentage="85" color="yellow" %}
        <!-- React -->
        {% include "portfolio/components/skill_item.html" with icon="icons/react.svg" name="React" percentage="70" color="sky" %}
        <!-- Tailwind CSS -->
        {% include "portfolio/components/skill_item.html" with icon="icons/css.svg" name="CSS / Tailwind CSS" percentage="75" color="cyan" %}
        <!-- HTML -->
        {% include "portfolio/components/skill_item.html" with icon="icons/html.svg" name="HTML5" percentage="75" color="cyan" %}
      </div>

      <!-- Tools & Others -->
      <div class="space-y-4">
        <h4 class="text-xl font-semibold text-gray-700 dark:text-white">Tools & Others</h4>
        <!-- Git & GitHub -->
        {% include "portfolio/components/skill_item.html" with icon="icons/git.svg" name="Git & GitHub" percentage="85" color="orange" %}
        <!-- Docker -->
        {% include "portfolio/components/skill_item.html" with icon="icons/docker.svg" name="Docker" percentage="60" color="blue" %}
        <!-- Postman -->
        {% include "portfolio/components/skill_item.html" with icon="icons/postman.svg" name="Postman" percentage="75" color="orange" %}
        <!-- n8n -->
        {% include "portfolio/components/skill_item.html" with icon="icons/n8n.svg" name="n8n" percentage="65" color="orange" %}
      </div>
    </div>
  </div>
</section>

<section
  id="projects"
  class="relative min-h-screen py-20 bg-gray-100 dark:bg-gray-900 scroll-mt-32 overflow-hidden transition-colors duration-500"
>

  <div class="container mx-auto px-4 text-center">
    <!-- Tek Kart: Başlık ve Trigger -->
    <div
      id="main-project-trigger"
      class="cursor-pointer relative z-20 transition-transform duration-700 scale-100 bg-white dark:bg-zinc-800 rounded-2xl shadow-xl w-full max-w-md mx-auto p-10"
    >
      <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Projects</h3>
    </div>

    <!-- Ayrılan Proje Kartları -->
    <div
      id="fanout-cards"
      class="relative mt-10 flex justify-center items-center gap-4 flex-wrap pointer-events-none"
    >
      {% for i in "12345" %}
      <div
        class="fanout-card opacity-0 scale-75 transition-all duration-500 absolute bg-white dark:bg-zinc-800 text-gray-800 dark:text-white shadow-lg rounded-xl w-60 h-40 p-4 flex flex-col justify-center items-center"
      >
        <h4 class="font-semibold text-lg">Project {{ forloop.counter }}</h4>
        <p class="text-sm text-center mt-2 text-gray-600 dark:text-gray-300">Açıklama</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>




<section
  id="blog"
  class="min-h-screen bg-gray-100 dark:bg-gray-900 py-20 scroll-mt-32"
>
  <div class="reveal-manual will-change-transform" data-section="blog">
    <h2 class="text-3xl font-bold text-center text-gray-900 dark:text-white">
      Blog
    </h2>
    <p
      class="text-center mt-4 max-w-xl mx-auto text-gray-800 dark:text-gray-300"
    >
      I'm a passionate and detail-oriented Junior Software Developer with a
      strong focus on building clean, scalable, and user-friendly web
      applications. With a background in Computer Science (MSc, Distinction), I
      have hands-on experience in both frontend and backend technologies
      including Django, React, Tailwind CSS, and RESTful APIs. My projects range
      from AI-powered chatbots and fleet management tools to e-commerce
      dashboards and weather apps. I enjoy solving real-world problems through
      code, continuously learning new technologies, and working on projects that
      make a meaningful impact. Currently, I’m focused on enhancing my skills in
      Django, Tailwind CSS, and JavaScript by building this portfolio from
      scratch — combining technical depth with aesthetic polish. Let’s build
      something meaningful together.
    </p>
  </div>
</section>

<section
  id="contact"
  class="h-auto bg-white dark:bg-gray-900 py-20 transition-colors duration-500 scroll-mt-40"
>
  <div
    data-aos="fade-up"
    data-aos-duration="1200"
    data-aos-easing="ease-out-cubic"
    class="bg-transparent"
  >
    <h2 class="text-3xl font-bold text-center mb-4 dark:text-white">Contact</h2>
    <p
      class="text-center mt-4 max-w-xl mx-auto text-gray-700 dark:text-gray-300 text-lg leading-relaxed"
    >
      I'm a passionate and detail-oriented Junior Software Developer with a
      strong focus on building clean, scalable, and user-friendly web
      applications. With a background in Computer Science (MSc, Distinction), I
      have hands-on experience in both frontend and backend technologies
      including Django, React, Tailwind CSS, and RESTful APIs. My projects range
      from AI-powered chatbots and fleet management tools to e-commerce
      dashboards and weather apps. I enjoy solving real-world problems through
      code, continuously learning new technologies, and working on projects that
      make a meaningful impact. Currently, I’m focused on enhancing my skills in
      Django, Tailwind CSS, and JavaScript by building this portfolio from
      scratch — combining technical depth with aesthetic polish. Let’s build
      something meaningful together.
    </p>
  </div>
</section>

<!-- Quick Contact tags on the left-side -->
<script>
  const contactToggleBtn = document.getElementById("toggle-panel");
  const iconSection = document.getElementById("icon-area");

  let panelOpen = false;
  contactToggleBtn.addEventListener("click", () => {
    iconSection.classList.toggle("opacity-0");
    iconSection.classList.toggle("max-h-0");
    iconSection.classList.toggle("max-h-[500px]");
    panelOpen = !panelOpen; //Panel situation checking
  });

  window.addEventListener("scroll", () => {
    if (panelOpen) {
      //if panel is open
      iconSection.classList.add("opacity-0");
      iconSection.classList.add("max-h-0");
      iconSection.classList.remove("max-h-[500px]");
      panelOpen = false;
    }
  });
</script>
<!-- decode section in header -->
<script>
  const targetText = "This is my portfolio";
  const characters =
    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890!@#$%^&*()-_=+";
  const display = document.getElementById("decoding-title");
  let iterations = 0;

  function decodeEffect() {
    const length = targetText.length;
    let output = "";

    for (let i = 0; i < length; i++) {
      if (i < iterations) {
        output += targetText[i];
      } else {
        output += characters[Math.floor(Math.random() * characters.length)];
      }
    }

    display.textContent = output;

    if (iterations <= length) {
      iterations++;
      setTimeout(decodeEffect, 60); // animation speed control
    } else {
      //for cycle each 5 sec
      setTimeout(() => {
        iterations = 0;
        decodeEffect();
      }, 2000);
    }
  }
  document.addEventListener("DOMContentLoaded", decodeEffect);
</script>

<!-- Projects & Blog section animation with vanilla.js -->
<script>
  const sections = document.querySelectorAll(".reveal-manual");
  let lastScrollY = window.scrollY; // ilk scroll pozisyonu

  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        const currentScrollY = window.scrollY;
        const scrollingDown = currentScrollY > lastScrollY;

        if (entry.isIntersecting && scrollingDown) {
          const sectionName = entry.target.dataset.section;
          // sadece aşağı inerken animasyonu uygula
          if (sectionName === "projects") {
            entry.target.classList.add("animate-slide-in");
          } else if (sectionName === "blog") {
            entry.target.classList.add("animate-slide-left");
          }
        }

        if (!entry.isIntersecting) {
          // yeniden animasyon oynatmak için class'ları kaldır
          entry.target.classList.remove("animate-slide-in");
          entry.target.classList.remove("animate-slide-left");
        }

        // scroll pozisyonunu güncelle
        lastScrollY = currentScrollY;
      });
    },
    {
      threshold: 0.05, // %5'i görünür olunca tetiklensin
    }
  );

  sections.forEach((section) => {
    observer.observe(section);
  });
</script>
<script>
  const skillSection = document.getElementById("skills-section");
  const skillBars = document.querySelectorAll(".skill-bar");
  let animationStarted = false;
  let skillInterval;

  function animateSkills() {
    skillBars.forEach((bar) => {
      bar.style.transition = "none"; // animasyonu geçici kapat
      bar.style.width = "0%"; // sıfırla
    });

    // Tarayıcının 0%'ı işlemesine fırsat vermek için küçük gecikme
    setTimeout(() => {
      skillBars.forEach((bar, index) => {
        setTimeout(() => {
          const targetWidth = bar.getAttribute("data-width");
          bar.style.transition = "width 1.5s ease";
          bar.style.width = targetWidth;
        }, index * 150);
      });
    }, 50); // 50ms gecikme sayesinde animasyon düzgün başlar
  }

  const observering = new IntersectionObserver(
    (entries, observering) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting && !animationStarted) {
          animationStarted = true;
          animateSkills();

          // Her 10 saniyede bir tekrar et
          skillInterval = setInterval(() => {
            animateSkills();
          }, 10000);

          observering.unobserve(entry.target);
        }
      });
    },
    {
      threshold: 0.3,
    }
  );

  observering.observe(skillSection);
</script>

<!-- Icons animations -->
<script>
const icons = document.querySelectorAll(".skill-icon");

const iconObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const icon = entry.target;
      
      // Class'ı resetleyip yeniden ekle
      icon.classList.remove("animate-spin-once");
      void icon.offsetWidth; // reflow hilesi
      icon.classList.add("animate-spin-once");
    }
  });
}, { threshold: 0.6 });

icons.forEach(icon => iconObserver.observe(icon));

</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const mainCard = document.getElementById("main-project-card");
  const otherCards = document.querySelectorAll(".project-card");

  // IntersectionObserver ile ana kart görünür olunca tetikle
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          // 1️⃣ Ana kartı küçültüp geri plana it
          mainCard.classList.add("scale-90");

          // 2️⃣ Diğer kartları sırayla aç
          otherCards.forEach((card, index) => {
            setTimeout(() => {
              card.classList.remove("opacity-0", "scale-75");
              card.classList.add("opacity-100", "scale-100");
              card.style.transform = `translateX(${(index - 2) * 160}px) rotate(${(index - 2) * 5}deg)`;
              card.style.zIndex = `${10 - index}`;
            }, index * 250); // animasyon gecikmesi
          });

          observer.unobserve(entry.target); // sadece bir kere çalışsın
        }
      });
    },
    { threshold: 0.5 }
  );

  observer.observe(mainCard);
});
</script>

{% endblock %}
